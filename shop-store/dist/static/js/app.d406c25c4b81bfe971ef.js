webpackJsonp([1],{"/Efj":function(t,e){},"55kl":function(t,e){},DYuJ:function(t,e){},NHnr:function(t,e,r){"use strict";function a(t){r("SmGU")}function s(t){r("DYuJ")}function o(t){r("/Efj")}function n(t){r("55kl")}function c(t){r("nMJV")}Object.defineProperty(e,"__esModule",{value:!0});var i=r("7+uW"),u=r("vQJi"),d=r.n(u),l={name:"app",data:function(){return{cartItems:this.$store.state.cart}},created:function(){this.$store.subscribe(function(t){if(t.payload)switch(t.type){case"ERROR_MSG":d.a.error(t.payload.content,t.payload.title);break;case"ADD_PRODUCT_SUCCESS":d.a.success("Product created.","Success!");break;case"UPDATE_PRODUCT_SUCCESS":d.a.success("Product updated.","Success!");break;case"REMOVE_PRODUCT_SUCCESS":d.a.warning("Product deleted.","Deleted!")}})},computed:{cartItemsCount:function(){return this.cartItems.length},showLoader:function(){return this.$store.state.showLoader}}},m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("nav",[r("div",{staticClass:"container"},[r("ul",{staticClass:"nav__left"},[r("li",[r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"fa fa-home"}),t._v(" Home")])],1),t._v(" "),r("li",[r("router-link",{attrs:{to:"/admin"}},[r("i",{staticClass:"fa fa-user"}),t._v(" Admin")])],1)]),t._v(" "),r("ul",{staticClass:"nav__right"},[r("li",[r("router-link",{attrs:{to:"/cart"}},[r("i",{staticClass:"fa fa-shopping-cart"}),t._v(" Cart ("+t._s(t.cartItemsCount)+")")])],1)])])]),t._v(" "),r("router-view"),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoader,expression:"showLoader"}],staticClass:"overlay"},[t._m(0,!1,!1)])],1)},p=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loading-spinner"},[r("div",{staticClass:"dot dotOne"}),t._v(" "),r("div",{staticClass:"dot dotTwo"}),t._v(" "),r("div",{staticClass:"dot dotThree"})])}],v={render:m,staticRenderFns:p},_=v,f=r("VU/8"),h=a,C=f(l,_,!1,h,null,null),g=C.exports,R=r("/ocq"),P={props:["product"],data:function(){return{cart:this.$store.state.cart}},computed:{isAdding:function(){return this.cart.indexOf(this.product)<0}},methods:{addToCart:function(){this.$store.commit("ADD_TO_CART",this.product)},removeFromCart:function(t){this.$store.commit("REMOVE_FROM_CART",t)}}},U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isAdding?r("button",{staticClass:"button",on:{click:t.addToCart}},[r("i",{staticClass:"fa fa-cart-plus"}),t._v(" Add to Cart")]):r("button",{staticClass:"button button-danger",on:{click:function(e){t.removeFromCart(t.product._id)}}},[r("i",{staticClass:"fa fa-trash"}),t._v(" Remove from Cart")])])},w=[],E={render:U,staticRenderFns:w},S=E,$=r("VU/8"),D=$(P,S,!1,null,null,null),x=D.exports,O={name:"product-item",props:["product"],components:{"product-button":x}},A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},[r("div",{staticClass:"product"},[r("router-link",{staticClass:"product-link",attrs:{to:"/details/"+t.product._id}},[r("div",{staticClass:"product__image"},[r("img",{staticClass:"img-responsive",attrs:{src:t.product.image,alt:""}})]),t._v(" "),r("div",{staticClass:"product__description"},[r("div",{staticClass:"product__info"},[r("small",[t._v(t._s(t.product.manufacturer.name))]),t._v(" "),r("h4",[t._v(t._s(t.product.name))])]),t._v(" "),r("div",{staticClass:"product__price-cart"},[t._v("\n                    $"+t._s(t.product.price)+"\n                ")])])]),t._v(" "),r("div",{staticClass:"product__action"},[r("product-button",{attrs:{product:t.product}})],1)],1)])},T=[],b={render:A,staticRenderFns:T},L=b,M=r("VU/8"),N=s,y=M(O,L,!1,N,null,null),V=y.exports,k={name:"product-list",created:function(){0===this.products.length&&this.$store.dispatch("allProducts")},computed:{products:function(){return this.$store.getters.allProducts}},components:{"product-item":V}},F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"products"},[r("div",{staticClass:"container"},[t._l(t.products,function(t){return[r("product-item",{attrs:{product:t}})]})],2)])])},I=[],q={render:F,staticRenderFns:I},B=q,Y=r("VU/8"),G=Y(k,B,!1,null,null,null),J=G.exports,j={name:"home",data:function(){return{msg:"Welcome to Your Vue.js App"}},components:{"product-list":J}},H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0,!1,!1),t._v(" "),r("product-list")],1)},W=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("h1",[r("i",{staticClass:"fa fa-braille"}),t._v(" In Stock")])])}],Q={render:H,staticRenderFns:W},z=Q,K=r("VU/8"),X=o,Z=K(j,z,!1,X,"data-v-bac04602",null),tt=Z.exports,et={path:"/",name:"Home",component:tt},rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"admin-new"},[r("div",{staticClass:"container"},[r("div",{staticClass:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},[r("ul",{staticClass:"admin-menu"},[r("li",[r("router-link",{attrs:{to:"/admin"}},[t._v("View Products")])],1),t._v(" "),r("li",[r("router-link",{attrs:{to:"/admin/new"}},[t._v("New Product")])],1)])]),t._v(" "),r("router-view")],1)])])},at=[],st={render:rt,staticRenderFns:at},ot=st,nt=r("VU/8"),ct=n,it=nt(null,ot,!1,ct,null,null),ut=it.exports,dt={props:["model","manufacturers","isEditing"],created:function(){},methods:{saveProduct:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)return void t.$store.commit("ERROR_MSG",{type:"error",title:"Validation!",content:"Please ensure the form is valid."});t.$emit("save-product",t.model)}).catch(function(){t.$store.commit("ERROR_MSG",{type:"error",title:"Validation!",content:"Please ensure the form is valid."})})}}},lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:function(e){e.preventDefault(),t.saveProduct(e)}}},[r("div",{staticClass:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:t.errors.has("name")},attrs:{type:"text",placeholder:"Name",name:"name"},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"small text-danger"},[t._v("Name is required")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Price")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.model.price,expression:"model.price"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:t.errors.has("price")},attrs:{type:"number",placeholder:"Price",name:"price"},domProps:{value:t.model.price},on:{input:function(e){e.target.composing||t.$set(t.model,"price",e.target.value)}}}),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("price"),expression:"errors.has('price')"}],staticClass:"small text-danger"},[t._v("Price is required")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Manufacturer")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.model.manufacturer,expression:"model.manufacturer"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:t.errors.has("manufacturer")},attrs:{type:"text",name:"manufacturer"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.model,"manufacturer",e.target.multiple?r:r[0])}}},[t._l(t.manufacturers,function(e){return[r("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.name))])]})],2),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("manufacturer"),expression:"errors.has('manufacturer')"}],staticClass:"small text-danger"},[t._v("Manufacturer is required")])])]),t._v(" "),r("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Image")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.model.image,expression:"model.image"},{name:"validate",rawName:"v-validate",value:"required|url",expression:"'required|url'"}],class:{"form-control":!0,error:t.errors.has("image")},attrs:{type:"text",lass:"form-control",placeholder:"Image",name:"image"},domProps:{value:t.model.image},on:{input:function(e){e.target.composing||t.$set(t.model,"image",e.target.value)}}}),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("image"),expression:"errors.has('image')"}],staticClass:"small text-danger"},[t._v("Image is required and must be a valid URL")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Description")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:t.errors.has("description")},attrs:{type:"number",placeholder:"Description",rows:"5",name:"description"},domProps:{value:t.model.description},on:{input:function(e){e.target.composing||t.$set(t.model,"description",e.target.value)}}}),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("description"),expression:"errors.has('description')"}],staticClass:"small text-danger"},[t._v("Description is required")])]),t._v(" "),r("div",{staticClass:"form-group new-button"},[r("button",{staticClass:"button"},[r("i",{staticClass:"fa fa-pencil"}),t._v(" "),t.isEditing?r("span",[t._v("Update Product")]):r("span",[t._v("Add Product")])])])])])},mt=[],pt={render:lt,staticRenderFns:mt},vt=pt,_t=r("VU/8"),ft=_t(dt,vt,!1,null,null,null),ht=ft.exports,Ct={data:function(){return{model:{}}},created:function(){this.$store.dispatch("allManufacturers")},computed:{manufacturers:function(){return this.$store.getters.allManufacturers}},methods:{addProduct:function(t){console.log("model",t),this.$store.dispatch("addProduct",t)}},components:{"product-form":ht}},gt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("product-form",{attrs:{model:t.model,manufacturers:t.manufacturers},on:{"save-product":t.addProduct}})},Rt=[],Pt={render:gt,staticRenderFns:Rt},Ut=Pt,wt=r("VU/8"),Et=wt(Ct,Ut,!1,null,null,null),St=Et.exports,$t={data:function(){return{}},computed:{products:function(){return this.$store.getters.allProducts}},created:function(){0===this.products.length&&this.$store.dispatch("allProducts")},methods:{deleteProduct:function(t){console.log(t),this.$store.dispatch("removeProduct",t)}}},Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-lg-9 col-md-9 col-sm-12 col-xs-12"},[r("table",{staticClass:"table table-striped"},[t._m(0,!1,!1),t._v(" "),r("tbody",t._l(t.products,function(e){return r("tr",[r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v("$"+t._s(e.price))]),t._v(" "),r("td",[t._v(t._s(e.manufacturer.name))]),t._v(" "),r("td",[r("router-link",{attrs:{to:"/admin/edit/"+e._id}},[r("i",{staticClass:"fa fa-pencil-square-o"})])],1),t._v(" "),r("td",[r("a",{on:{click:function(r){t.deleteProduct(e._id)}}},[r("i",{staticClass:"fa fa-trash"})])])])}))])])},xt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Name")]),t._v(" "),r("th",[t._v("Price")]),t._v(" "),r("th",[t._v("Manufacturer")]),t._v(" "),r("th"),t._v(" "),r("th")])])}],Ot={render:Dt,staticRenderFns:xt},At=Ot,Tt=r("VU/8"),bt=Tt($t,At,!1,null,null,null),Lt=bt.exports,Mt=r("woOf"),Nt=r.n(Mt),yt={created:function(){this.model.name||(console.log("dispatched"),this.$store.dispatch("productById",this.$route.params.id)),0===this.manufacturers.length&&this.$store.dispatch("allManufacturers")},data:function(){return console.log(this.$store.getters.allManufacturers),{}},computed:{manufacturers:function(){return this.$store.getters.allManufacturers},model:function(){var t=this.$store.getters.productById(this.$route.params.id);return Nt()({},t)}},methods:{updateProduct:function(t){console.log("model",t),this.$store.dispatch("updateProduct",t)}},components:{"product-form":ht}},Vt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("product-form",{attrs:{model:t.model,manufacturers:t.manufacturers,isEditing:!0},on:{"save-product":t.updateProduct}})},kt=[],Ft={render:Vt,staticRenderFns:kt},It=Ft,qt=r("VU/8"),Bt=qt(yt,It,!1,null,null,null),Yt=Bt.exports,Gt={path:"/admin",component:ut,children:[{path:"new",name:"New",component:St},{path:"",name:"Products",component:Lt},{path:"edit/:id",name:"Edit",component:Yt}]},Jt={props:["product"],components:{"product-button":x}},jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-details"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-4 col-md-4 col-sm-6 col-xs-12 product-details__image"},[r("img",{staticClass:"img-responsive",attrs:{src:t.product.image,alt:""}})]),t._v(" "),r("div",{staticClass:"col-lg-8 col-md-8 col-sm-6 col-xs-12 product-details__info"},[r("div",{staticClass:"product-details__description"},[r("small",[t._v(t._s(t.product.manufacturer&&t.product.manufacturer.name))]),t._v(" "),r("h3",[t._v(t._s(t.product.name))]),t._v(" "),r("p",[t._v("\n            "+t._s(t.product.description)+"\n          ")])]),t._v(" "),r("div",{staticClass:"product-details__price-cart"},[r("p",[t._v("$"+t._s(t.product.price))]),t._v(" "),r("product-button",{attrs:{product:t.product}})],1)])])])])},Ht=[],Wt={render:jt,staticRenderFns:Ht},Qt=Wt,zt=r("VU/8"),Kt=c,Xt=zt(Jt,Qt,!1,Kt,null,null),Zt=Xt.exports,te={created:function(){this.product.name||this.$store.dispatch("productById",this.$route.params.id)},computed:{product:function(){return this.$store.getters.productById(this.$route.params.id)}},data:function(){return{}},components:{"product-details":Zt}},ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("product-details",{attrs:{product:t.product,isAdding:!0}})],1)},re=[],ae={render:ee,staticRenderFns:re},se=ae,oe=r("VU/8"),ne=oe(te,se,!1,null,null,null),ce=ne.exports,ie={path:"/details/:id",name:"Details",component:ce},ue={data:function(){return{cart:this.$store.state.cart}},components:{productDetails:Zt}},de=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.cart.length>0?r("div",[t._m(0,!1,!1),t._v(" "),t._l(t.cart,function(t){return[r("product-details",{key:t.id,attrs:{product:t}})]})],2):r("div",{staticClass:"title"},[t._m(1,!1,!1)])},le=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("h1",[r("i",{staticClass:"fa fa-superpowers"}),t._v(" Your Cart")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[r("i",{staticClass:"fa fa-superpowers"}),t._v(" Your Cart is Empty")])}],me={render:de,staticRenderFns:le},pe=me,ve=r("VU/8"),_e=ve(ue,pe,!1,null,null,null),fe=_e.exports,he={path:"/cart",name:"Cart",component:fe};i.a.use(R.a);var Ce,ge,Re,Pe=new R.a({routes:[et,Gt,ie,he]}),Ue=r("NYxO"),we={allProducts:function(t,e){return t.products},productById:function(t,e){return function(r){return e.allProducts.length>0?e.allProducts.filter(function(t){return t._id===r})[0]:t.product}},allManufacturers:function(t){return t.manufacturers}},Ee={allManufacturers:function(t){return t.manufacturers}},Se=r("bOdI"),$e=r.n(Se),De=r("Dd8w"),xe=r.n(De),Oe=(Ce={},$e()(Ce,"ALL_PRODUCTS",function(t){t.showLoader=!0}),$e()(Ce,"ALL_PRODUCTS_SUCCESS",function(t,e){t.showLoader=!1,t.products=e}),$e()(Ce,"PRODUCT_BY_ID",function(t){t.showLoader=!0}),$e()(Ce,"PRODUCT_BY_ID_SUCCESS",function(t,e){t.showLoader=!1,t.product=e}),$e()(Ce,"ADD_PRODUCT",function(t,e){t.showLoader=!0}),$e()(Ce,"ADD_PRODUCT_SUCCESS",function(t,e){t.showLoader=!1,t.products.push(e)}),$e()(Ce,"UPDATE_PRODUCT",function(t,e){t.showLoader=!0}),$e()(Ce,"UPDATE_PRODUCT_SUCCESS",function(t,e){t.showLoader=!1,t.products=t.products.map(function(r){return r._id===e._id?e=xe()({},e,{manufacturer:t.manufacturers.filter(function(t){return t._id===e.manufacturer})[0]}):r})}),$e()(Ce,"REMOVE_PRODUCT",function(t,e){t.showLoader=!0}),$e()(Ce,"REMOVE_PRODUCT_SUCCESS",function(t,e){t.showLoader=!1;var r=t.products.findIndex(function(t){return t._id===e});console.debug("index",r),t.products.splice(r,1)}),$e()(Ce,"ERROR_MSG",function(t,e){}),Ce),Ae=(ge={},$e()(ge,"ADD_TO_CART",function(t,e){return t.cart.push(e)}),$e()(ge,"REMOVE_FROM_CART",function(t,e){var r=t.cart.findIndex(function(t){return t._id===e});t.cart.splice(r,1),console.log(t.cart,t.cart.length,r)}),ge),Te=(Re={},$e()(Re,"ALL_MANUFACTURER",function(t){t.showLoader=!0}),$e()(Re,"ALL_MANUFACTURER_SUCCESS",function(t,e){t.showLoader=!1,t.manufacturers=e}),Re),be=r("mtWM"),Le=r.n(be),Me="https://gotyet-shop.herokuapp.com/api/v1/",Ne={allProducts:function(t){var e=t.commit;e("ALL_PRODUCTS"),Le.a.get(Me+"/products").then(function(t){e("ALL_PRODUCTS_SUCCESS",t.data)})},productById:function(t,e){var r=t.commit;r("PRODUCT_BY_ID"),Le.a.get(Me+"/products/"+e).then(function(t){console.log(e,t.data),r("PRODUCT_BY_ID_SUCCESS",t.data)})},addProduct:function(t,e){var r=t.commit;r("ADD_PRODUCT"),Le.a.post(Me+"/products",e).then(function(t){r("ADD_PRODUCT_SUCCESS",t.data)})},updateProduct:function(t,e){var r=t.commit;r("UPDATE_PRODUCT"),Le.a.put(Me+"/products/"+e._id,e).then(function(t){r("UPDATE_PRODUCT_SUCCESS",t.data)})},removeProduct:function(t,e){var r=t.commit;r("REMOVE_PRODUCT"),Le.a.delete(Me+"/products/"+e,e).then(function(t){console.debug("response",t.data),r("REMOVE_PRODUCT_SUCCESS",t.data)})}},ye={allManufacturers:function(t){var e=t.commit;e("ALL_MANUFACTURER"),Le.a.get(Me+"/manufacturers").then(function(t){e("ALL_MANUFACTURER_SUCCESS",t.data)})}};i.a.use(Ue.a);var Ve=new Ue.a.Store({strict:!0,state:{cart:[],showLoader:!1,product:{},products:[],manufacturers:[]},mutations:Nt()({},Oe,Ae,Te),getters:Nt()({},we,Ee),actions:Nt()({},Ne,ye)}),ke=r("sUu7");i.a.config.productionTip=!1,i.a.use(ke.a),new i.a({el:"#app",router:Pe,store:Ve,template:"<App/>",components:{App:g}})},SmGU:function(t,e){},nMJV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d406c25c4b81bfe971ef.js.map